<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Template-Based Named Entity Recognition Using BART, 杨程的博客">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer" />
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Template-Based Named Entity Recognition Using BART | 杨程的博客</title>
    <link rel="icon" type="image/png" href="/myicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.4.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <span class="logo-span">杨程的博客</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <div class="logo-name">杨程的博客</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/2.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Template-Based Named Entity Recognition Using BART</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/NER/">
                                <span class="chip bg-color">NER</span>
                            </a>
                        
                            <a href="/tags/Few-Shot-Learning/">
                                <span class="chip bg-color">Few-Shot Learning</span>
                            </a>
                        
                            <a href="/tags/Prompt-based-Learning/">
                                <span class="chip bg-color">Prompt-based Learning</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/NLP/" class="post-category">
                                NLP
                            </a>
                        
                            <a href="/categories/NLP/%E4%BF%A1%E6%81%AF%E6%8A%BD%E5%8F%96/" class="post-category">
                                信息抽取
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2021-08-08
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="Template-Based-Named-Entity-Recognition-Using-BART"><a href="#Template-Based-Named-Entity-Recognition-Using-BART" class="headerlink" title="Template-Based Named Entity Recognition Using BART"></a>Template-Based Named Entity Recognition Using BART</h1><blockquote>
<ul>
<li>作者：西湖大学 张岳老师组</li>
<li>收录地址：Findings of the Association for Computational Linguistics: ACL-IJCNLP 2021</li>
<li>代码地址：<a target="_blank" rel="noopener" href="https://github.com/Nealcly/templateNER">https://github.com/Nealcly/templateNER</a></li>
</ul>
</blockquote>
<h2 id="Background-要解决的问题"><a href="#Background-要解决的问题" class="headerlink" title="Background(要解决的问题)"></a>Background(要解决的问题)</h2><p>Few-shot场景下的NER（RE，EE）任务是近期的一个热点话题。解决few-shot任务的方法有很多，其中transfer learning是其中最重要的方法之一。</p>
<p>Transfer learning的思想一般指：<strong>在resource-rich的source domain dataset上进行训练模型，然后将所学到的知识“迁移”到low-resource的target domain dataset上</strong>，具体的迁移方式有很多种，常见的有使用小样本数据进行微调等等。</p>
<p>其实，在目前来看，已经有不少transfer learning-based few-shot NER models了。其中，最简单的一种是使用 <strong><code>pre-trained model with a softmax/CRF output layer</code></strong> （traditional methods）：</p>
<img src="http://ww1.sinaimg.cn/mw690/9b63ed6fly1gt9htwloe6j20e60d8di3.jpg" alt="image.png" style="zoom: 67%;">

<p>如上图所示，该方法存在的一个问题是：</p>
<ul>
<li><strong><font color="red">Problem 1</font></strong>: low-resource source domain dataset上的entity label不一定和resource-rich target domain dataset的一致。所以，当每一次有新的entity label到来时，模型<strong>都需要重新定义output layers</strong>，这样的开销显然是非常大的，而且直接丢弃原来的output layers，没有考虑到the association between entity type——例如“person” and “character”两个实体类型可能会存在某种联系，同时也不能进行zero-shot的学习。</li>
</ul>
<p>这种<code>pre-trained model with a softmax/CRF output layer</code>的方式是最基本的，聪明的“炼丹师们”总有很多不同的idea，比如最近常用的方法是使用 <strong><code>Similarity-based metric</code></strong> ，其主要思想是在source domain上训练一个<code>similarity function</code>，然后将这个similarity函数运用到target domain上。</p>
<p><strong>可以看出<code>distance-based methods</code>相比于<code>pre-trained model with a softmax/CRF output layer</code>在domain adaptation的能力方面要更强一些</strong>，但是它依然存在一些问题：</p>
<ul>
<li><strong><font color="red">Problem 2</font></strong>: target domain提供的小样本只是用来寻找最近邻算法的最佳超参数，而不是用来更新target domain上的instances的representation的，说人话就是<strong>不更新模型的parameters</strong>；</li>
<li><strong><font color="red">Problem 3</font></strong>: <strong>这些方法十分依赖source domain和target domain之间的textual pattern similarity</strong>（也可以称为是writing styles，比如新闻领域和评论领域，它们俩的风格就不太一样）。如果两者的textual pattern不相同，那么会导致模型性能的下降。</li>
</ul>
<p>为了解决<code>pre-trained model with a softmax/CRF output layer</code>和<code>distance-based methods</code>两种few-shot NER方法存在的3个问题，本文提出基于模板，利用生成式语言模型解决few-shot NER问题。</p>
<h2 id="Contributions-创新点"><a href="#Contributions-创新点" class="headerlink" title="Contributions(创新点)"></a>Contributions(创新点)</h2><ol>
<li>能够进行zero-shot</li>
</ol>
<h2 id="Method——Template-Based-Method"><a href="#Method——Template-Based-Method" class="headerlink" title="Method——Template-Based Method"></a>Method——Template-Based Method</h2><img src="http://ww1.sinaimg.cn/mw690/002QqMizly1gt9nprqmlnj60pk0mfwmk02.jpg" style="zoom: 80%;">

<p>如上图所示，本文将few-shot NER看作是在<strong>seq2seq框架下的language model ranking problem</strong>。其中，source sequence是原始文本——$\mathbf{X} = {x_1,…,x_n}$​​​​，而target sequence则是被待分类span $x_{i:j}$​​ 和entity type $y_k$​​ 填充上的Template—— $\mathbf{T}$${y_k,x_{i:j}} = {t_1,…,t_m} $​​​​​​​​​。</p>
<p>其实文章的基本思想还是非常好理解的，下面从Template Creation，Inference，Training 3个方面介绍文章的方法：</p>
<h3 id="Template-Creation"><a href="#Template-Creation" class="headerlink" title="Template Creation"></a>Template Creation</h3><p>模板的构造采用的是manual的方式，对于正样本，模板为“<code>&lt;candidate_span&gt; is a &lt;entity_type&gt; type</code>”，对于负样本，模板为“<code>&lt;candidate_span&gt; is not a named entity</code>”。其中<code>&lt;candidate_span&gt;</code>和<code>&lt;entity_type&gt;</code>是需要填充上的内容。</p>
<h3 id="Inference"><a href="#Inference" class="headerlink" title="Inference"></a>Inference</h3><img src="http://ww1.sinaimg.cn/mw690/9b63ed6fly1gt9ov0uxzbj20e40e2djb.jpg" alt="inference" style="zoom:67%;">

<p>如上图所示，在推理阶段，需要枚举一个句子中所有可能的&lt;candidate_span&gt;，但是为了减少计算量，按照经验，限定它的长度为8。如此而言，对于一个长度为$n$的句子，它的&lt;candidate_span&gt;大概有$8n$个。因此，会产生$8n$个待分类的template。</p>
<p>得到模板之后，使用fine-tuned pre-trained generative language model来赋予每个template一个分数：</p>
<img src="http://ww1.sinaimg.cn/mw690/9b63ed6fly1gt9ou0xc62j20fl024jrd.jpg" alt="" style="zoom: 80%;">

<p>文章取最大的$f(·)$​值对应的entity type作为这个&lt;candidate_span&gt;的entity type（其中包含了不是实体的情况）。</p>
<h3 id="Training"><a href="#Training" class="headerlink" title="Training"></a>Training</h3><p>在训练的时候，对于正样本，使用的是gold entity进行模板的构建。而对于负样本，使用的是句子中的none entity text span进行模板的构建。并且保持负样本是正样本的1.5倍。</p>
<blockquote>
<p>其实，这里在构建负样本的时候是不能乱采样的，因为有时候不标注成gold entity不代表其不是entity！关于这个内容，可以参考论文——<a target="_blank" rel="noopener" href="https://arxiv.org/abs/2012.05426">Empirical Analysis of Unlabeled Entity Problem in Named Entity Recognition</a></p>
</blockquote>
<p>给定一个sequence pair(source sequence ➕ target sequence)，首先将$\mathbf{X}$输入到BART的Encoder部分，得到：</p>
<img src="http://ww1.sinaimg.cn/mw690/9b63ed6fly1gt9ptcvselj20ma01nweg.jpg" alt="" style="zoom:80%;">

<p>在decoder进行到c步的时候，decoder此时的输入是$\mathbf{h}^{enc}$和之前的的c-1个字符$t_{1:c-1}$，从而得到第c步的representation：</p>
<img src="http://ww1.sinaimg.cn/mw690/9b63ed6fly1gt9pvm89xej20fe01ga9z.jpg" alt="" style="zoom:80%;">

<p>此时，第c步解码字符的条件概率定义为：</p>
<img src="http://ww1.sinaimg.cn/mw690/9b63ed6fly1gt9px7nijnj20ft01daa2.jpg" alt="" style="zoom:80%;">

<p>于是，对于一个sequence pair(source sequence ➕ target sequence)，其损失函数可以利用交叉熵函数定义为：</p>
<img src="http://ww1.sinaimg.cn/mw690/9b63ed6fly1gt9pzopjyaj20fk023t8n.jpg" style="zoom:80%;">

<h2 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h2><h3 id="Datasets"><a href="#Datasets" class="headerlink" title="Datasets"></a>Datasets</h3><p>论文的数据集设定如下所示，论文需要实现<strong>不同的domain——resource-rich datasets到low-resource datasets</strong>上的有效迁移。</p>
<p><strong>resource-rich datasets</strong>：</p>
<ol>
<li>CoNLL03（a news dataset）</li>
</ol>
<p><strong>low-resource datasets</strong>：</p>
<ol>
<li>MIT Movies</li>
<li>MIT Restaurants</li>
<li>ATIS</li>
</ol>
<h3 id="对比的方法"><a href="#对比的方法" class="headerlink" title="对比的方法"></a>对比的方法</h3><ol>
<li>Sequnece Labelling BERT</li>
<li>Sam Wiseman and Karl Stratos. 2019. Label-agnostic sequence labeling by copying nearest neighbors. In Proceedings of the 57th Annual Meeting of the Association for Computational Linguistics, pages 5363–5369, Florence, Italy. Association for Computational Linguistics.</li>
<li>Yi Yang and Arzoo Katiyar. 2020. Simple and effective few-shot named entity recognition with structured nearest neighbor learning. In Proceedings of the 2020 Conference on Empirical Methods in Natural Language Processing (EMNLP), pages 6365–6375, Online. Association for Computational Linguistics.</li>
<li>Morteza Ziyadi, Yuting Sun, Abhishek Goswami, Jade Huang, and Weizhu Chen. 2020. Example-based named entity recognition.</li>
<li>Jiaxin Huang, Chunyuan Li, Krishan Subudhi, Damien Jose, Shobana Balakrishnan, Weizhu Chen, Baolin Peng, Jianfeng Gao, and Jiawei Han. 2020. Few- shot named entity recognition: A comprehensive study.</li>
</ol>
<h3 id="Template-Influence"><a href="#Template-Influence" class="headerlink" title="Template Influence"></a>Template Influence</h3><p>在Prompt-based Learning中，template的选择是一个非常重要的，不同的template带来的结果可能会差异特别大！为此，论文在CoNLL03的development set上进行了对比实验，实验结果如下：</p>
<p><img src="http://ww1.sinaimg.cn/large/9b63ed6fly1gtaa893w00j20mp040jsv.jpg"></p>
<p>从上面的结果来看，好像是语言表达越复杂（或者说更高级？）的template带来的性能越差。</p>
<h3 id="CoNLL03-Results"><a href="#CoNLL03-Results" class="headerlink" title="CoNLL03 Results"></a>CoNLL03 Results</h3><p>首先，文章只在CoNLL03这一个数据集上进行实验，实验设定包含两种：</p>
<ol>
<li>standard NER setting</li>
<li>in-domain few-show NER setting</li>
</ol>
<h4 id="Standard-NER-setting"><a href="#Standard-NER-setting" class="headerlink" title="Standard NER setting"></a>Standard NER setting</h4><p>这种设定就是标准的实验设定，其实验结果为：</p>
<img src="http://ww1.sinaimg.cn/large/9b63ed6fly1gtab09k6ohj20fb0dmn2a.jpg" style="zoom:80%;">

<p>由上面的结果可以发现，虽然本文提出的方法没有超越SOTA，但是也是性能还是不错的。例如，相比于<code>Sequence Labeling BERT</code>和<code>Sequence Labeling BART</code>，它能够明显地提升Recall值。其中的原因估计是本文提出的方法采用的是枚举&lt;candidate_span&gt;的方式，从而能够提高Recall。</p>
<p>此外，采用多个template融合的方式的<code>multi-template BART</code>比只使用单个template的<code>Template BART</code>的性能要好一些，主要的提升的方面是Precision值，说明，不同的template捕获的信息是不同的，集成template是一个可以探索的方向。</p>
<h4 id="In-domain-Few-Shot-NER-Setting"><a href="#In-domain-Few-Shot-NER-Setting" class="headerlink" title="In-domain Few-Shot NER Setting"></a>In-domain Few-Shot NER Setting</h4><p>所谓的in-domain是相对于cross-domain而言的，in-domain表示source entity type和target entity type是属于同一题材下的entity type，并且它们的文本表述风格也是一致的。例如这里使用的是新闻数据集CoNLL03，并将其中的PER，ORG实体类型作为source entity type，而将LOC，MISC作为target entity type。</p>
<img src="http://ww1.sinaimg.cn/large/9b63ed6fly1gtabeelm9wj20g804wmy8.jpg" alt="" style="zoom:80%;">

<p>从上面的结果来看，论文的方法无论是在source entity type还是target entity type都是完胜<code>Sequence Labeling BERT</code>的。<strong>但是，我们都知道<code>Sequence Labeling BERT</code>是一个弱baseline，这样做是不是并没有什么代表性啊？不应该和专业的few-shot NER技术进行对比吗？（可能是因为比不过吧？不然为啥只作为cross-domain的比较，没有做in-domain的比较）</strong></p>
<h3 id="Cross-domain-Few-Shot-NER-Result"><a href="#Cross-domain-Few-Shot-NER-Result" class="headerlink" title="Cross-domain Few-Shot NER Result"></a>Cross-domain Few-Shot NER Result</h3><p>在cross-domain的实验设定下，source-domain是CoNLL03，而target domain是MIT Movie，MIT restaurant和ATIS。</p>
<img src="http://ww1.sinaimg.cn/large/9b63ed6fly1gtac0jnijmj20qb0iin5e.jpg" style="zoom:80%;">

<ol>
<li>对比不使用source domain，直接进行training from scratch的方法，使用source domain的方法要更好，<strong>说明本文提出的模型确实能够实现source domain向target domain的知识迁移</strong>，并且其带来的提升比<code>Sequence Labeling BERT</code>要大一些，作者认为其中的原因在于——One possible explanation is that our model makes more use of the correlations between different entity type labels in the vocabulary as mentioned earlier, which BERT cannot achieve due to treating the output as discrete class labels.（不太了解这句话是什么意思）</li>
<li>对于traditional method（即<code>Sequence Labeling BERT</code>和<code>Sequence Labeling BART</code>），无论是target domain上的样本数量少（10个）还是多（500）个，<code>Template-based BART</code>都要优于traditional method。<strong>这可能得益于本文采用的Template-based method</strong>，不需要重新定义output layer，从而保留了source-domain原有的信息，实现了<strong>continual learning</strong>；</li>
<li>对比distance-based method，本文提出的方法不仅能够在instance数量极少的情况下超过distance-based method。而且随着样本数量的增加，distance-based method的性能几乎没有很大的提升，而本文的方法则有，<strong>这可能得益于本文的方法使用instances更新了模型的参数，从而能学到更好的特征，而distance-based method并没有</strong>；</li>
</ol>
<h3 id="Discussion"><a href="#Discussion" class="headerlink" title="Discussion"></a>Discussion</h3><h4 id="Impact-of-entity-frequencies-in-training-data"><a href="#Impact-of-entity-frequencies-in-training-data" class="headerlink" title="Impact of entity frequencies in training data"></a>Impact of entity frequencies in training data</h4><h2 id="Thinking"><a href="#Thinking" class="headerlink" title="Thinking"></a>Thinking</h2><h3 id="有价值的参考文献"><a href="#有价值的参考文献" class="headerlink" title="有价值的参考文献"></a>有价值的参考文献</h3><h3 id="不足之处"><a href="#不足之处" class="headerlink" title="不足之处"></a>不足之处</h3><h3 id="不懂的地方"><a href="#不懂的地方" class="headerlink" title="不懂的地方"></a>不懂的地方</h3><ol>
<li><strong>为什么不直接使用MLM</strong>来解决这个问题呢？</li>
<li>由于对生成类LM并不太了解，不知道代码实现的时候，是怎么做到Seq2Seq的训练的？请问公式4中的$t_{1:c-1}$是gold的，还是decoder的预测结果呢？（我猜是gold）</li>
<li>论文中举例说“in Bangkok”可能被识别成“ORG”，“Bangkok”可能被识别成“LOC”。<strong>由于数据集中本身不存在嵌套实体现象，因此对于嵌套的实体，采用概率值高的作为最终的结果。</strong>那么，具体在编程实现方面是怎么进行的？总不可能暴力枚举吧？</li>
</ol>
<h3 id="可以借鉴的地方"><a href="#可以借鉴的地方" class="headerlink" title="可以借鉴的地方"></a>可以借鉴的地方</h3>
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">CarlYoung</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://yc1999.github.io/2021/08/08/template-based-named-entity-recognition-using-bart/">http://yc1999.github.io/2021/08/08/template-based-named-entity-recognition-using-bart/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">CarlYoung</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/NER/">
                                    <span class="chip bg-color">NER</span>
                                </a>
                            
                                <a href="/tags/Few-Shot-Learning/">
                                    <span class="chip bg-color">Few-Shot Learning</span>
                                </a>
                            
                                <a href="/tags/Prompt-based-Learning/">
                                    <span class="chip bg-color">Prompt-based Learning</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.jpg" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2021/08/14/adaprompt-adaptive-prompt-based-finetuning-for-relation-extraction/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/9.jpg" class="responsive-img" alt="AdaPrompt: Adaptive Prompt-based Finetuning for Relation Extraction">
                        
                        <span class="card-title">AdaPrompt: Adaptive Prompt-based Finetuning for Relation Extraction</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Motivations &amp; Contributions近期，关于Prompt-based的论文有很多，其核心思想在于利用Pre-trained Language Model的原有预训练任务（最常见的就是MLM），在不引入新的参数的情
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2021-08-14
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/NLP/" class="post-category">
                                    NLP
                                </a>
                            
                            <a href="/categories/NLP/%E4%BF%A1%E6%81%AF%E6%8A%BD%E5%8F%96/" class="post-category">
                                    信息抽取
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Few-shot-Learning/">
                        <span class="chip bg-color">Few-shot Learning</span>
                    </a>
                    
                    <a href="/tags/Relation-Extraction/">
                        <span class="chip bg-color">Relation Extraction</span>
                    </a>
                    
                    <a href="/tags/Prompt-based-learning/">
                        <span class="chip bg-color">Prompt-based learning</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2021/08/08/windows-xia-cha-kan-gpu-nvidia-shi-yong-qing-kuang/">
                    <div class="card-image">
                        
                        <img src="http://ww1.sinaimg.cn/large/9b63ed6fgy1gmrouzprvqj20xc0m8t99.jpg" class="responsive-img" alt="Windows下查看GPU(NVIDI)使用情况">
                        
                        <span class="card-title">Windows下查看GPU(NVIDI)使用情况</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Windows下查看GPU(NVIDI)使用情况
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-08-08
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/GPU/" class="post-category">
                                    GPU
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/">
                        <span class="chip bg-color">工具使用</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>


<script src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$', '$'], ['\\(', '\\)']]}
    });
</script>



    <footer class="page-footer bg-color">
    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2019</span>
            <a href="/about" target="_blank">CarlYoung</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/yc1999" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:yc1043301600@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1181062873" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1181062873" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/search.xml", 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
